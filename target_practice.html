// 기존 handleShot 함수를 아래 코드로 교체해주세요.
function handleShot(event) {
    if (!gameActive) return;

    // 클릭된 정확한 좌표 가져오기
    const clickX = event.clientX;
    const clickY = event.clientY;

    const containerRect = targetContainer.getBoundingClientRect();

    // hitMarker 위치 계산 (과녁판 기준)
    const markerX = clickX - containerRect.left;
    const markerY = clickY - containerRect.top;

    // hitMarker 표시
    hitMarker.style.left = `${markerX}px`;
    hitMarker.style.top = `${markerY}px`;
    hitMarker.style.opacity = '1';
    setTimeout(() => {
        hitMarker.style.opacity = '0'; // 잠시 후 사라지게
    }, 300); // 0.3초 후 사라짐

    const points = calculateScore(clickX, clickY);
    score += points;
    scoreDisplay.textContent = `점수: ${score}`;
    messageDisplay.textContent = `${points}점 획득!`;
    messageDisplay.style.color = points > 0 ? '#28a745' : '#dc3545'; // 점수에 따라 색상 변경
    setTimeout(() => messageDisplay.textContent = '', 500); // 메시지 0.5초 후 제거
}